var dataMap = {};

/**
 * [dataFormatter 数据项格式化]
 * @param  {[type]} obj  [description]
 * @param  {[string]} type [设置要转换的格式：
 *                         默认为中国分省
 *                         wolrd为全球26个国家
 *                         area为中国分地区]
 */
function dataFormatter(obj, type) {
    if( !type ) {
        var pList = ['北京','天津','河北','山西','内蒙古','辽宁','吉林','黑龙江','上海','江苏','浙江','安徽','福建','江西','山东','河南','湖北','湖南','广东','广西','海南','重庆','四川','贵州','云南','西藏','陕西','甘肃','青海','宁夏','新疆'];
        var temp;
        for (var year = 2005; year <= 2014; year++) {
            var max = 0;
            var sum = 0;
            temp = obj[year];
            for (var i = 0, l = temp.length; i < l; i++) {
                max = Math.max(max, temp[i]);
                sum += temp[i];
                obj[year][i] = {
                    name : pList[i],
                    value : temp[i]
                }
            }
            obj[year + 'max'] = Math.floor(max / 100) * 100;
            obj[year + 'sum'] = Math.floor(sum);
        }
        return obj;
    } else {
        if (type === 'world') {
            var pList = ['北京','天津','河北','山西','内蒙古','辽宁','吉林','黑龙江','上海','江苏','浙江','安徽','福建','江西','山东','河南','湖北','湖南','广东','广西','海南','重庆','四川','贵州','云南','西藏','陕西','甘肃','青海','宁夏','新疆'];
        } else if (type === 'area') {
            var pList = ['西部地区', '东部地区', '中部地区', '东北地区'];
        }

        var temp;
        for (var year = 2005; year <= 2014; year++) {
            var max = 0;
            var sum = 0;
            temp = obj[year];
            for (var i = 0, l = temp.length; i < l; i++) {
                max = Math.max(max, temp[i]);
                sum += temp[i];
                obj[year][i] = {
                    name : pList[i],
                    value : temp[i]
                }
            }
            obj[year + 'max'] = Math.floor(max / 100) * 100;
            obj[year + 'sum'] = Math.floor(sum);
        }
        return obj;
    }
}

/**
 * [area2year description]
 * @param  {[type]} item [description]
 * @return {[type]}      [description]
 */
function area2year(item) {
    var obj = {
        '西部地区': [],
        '东部地区': [],
        '中部地区': [],
        '东北地区': []
    };
    for(var year in item) {
        var temp = {};
        temp.year = year;
        temp.value = [];
        var len = item[year].length;
        for (var i = 0; i < len; i++) {
            temp.value.push(item[year][i]);
        }
        obj['西部地区'].push({
            name: temp.year,
            value: temp.value[0]
        });
        obj['东部地区'].push({
            name: temp.year,
            value: temp.value[1]
        });
        obj['中部地区'].push({
            name: temp.year,
            value: temp.value[2]
        });
        obj['东北地区'].push({
            name: temp.year,
            value: temp.value[3]
        });
    }
    return obj;
}

/**
 * [mixData 混合数据]
 * @param  {[Array]} list    [混合的对象组]
 * @param  {[boolean]} item    [是否只获取数据，不获取name]
 * @param  {[boolean]} addYear [是否在数据项中追加当前年份]
 */
function mixData(list, item, addYear) {
    if (item) {
        var mixData = {};

        for( var year in list[0] ) {
            mixData[year] = [];
            for( var i in list[0][year] ) {
                var temp = [];
                temp.push(list[0][year][i], list[1][year][i]);
                mixData[year][i] = temp;
            }
        }

        return mixData;
    } else {
        var obj1 = list[0];
        var mixData = {};

        for( var key in obj1 ) {
            mixData[key] = [];
            if( obj1[key] instanceof Array) {
                for( var item = 0; item < obj1[key].length; item ++) {
                    var temp = {};
                    temp.name = obj1[key][item].name;
                    temp.value = [];

                    for(var count in list) {
                        temp.value.push(list[count][key][item].value);
                    }

                    // 名称是年份时是否添加年份进入数组用于年份排列
                    if(addYear) {
                        temp.value.push(parseInt(temp.name));
                    }

                    Array.prototype.push.call(mixData[key], temp);
                }
            }
        }

        return mixData;
    }
}

/**
 * [filterDdata 对数据项进行过滤]
 * @param  {[object]} obj [要过滤的数据项]
 * @param  {[string]} obj [设置要过滤的条件
 *                        可选项为： minus 值为负]
 * @param  {[boolean]} inverse [根据第一个数据项的过滤条件反向过滤第二个对象]
 * @return {[object]}     [返回过滤后的新对象]
 */
function filterDdata(list, filter, inverse) {
    

    if(filter === 'minus') {
        if(inverse) {
            var obj = filterMinus(list);
            var flist = obj.flist;
            var result = {};
            
            for (var year in list[1]) {
                result[year] = [];
                for(var item in list[1][year]) {
                    if( typeof list[1][year][item] === 'object') {
                        var temp = list[1][year][item];
                        for (var i in flist) {
                            if(temp.name === flist[i]) {
                                result[year].push(temp);
                            }
                        }
                    } else {
                        result[year] = null;
                    }
                }
            }
            return result;
        } else {
            var obj = filterMinus(list);
            return obj.result;
        }
    }
}
function filterMinus(list) {
    var result = {};
    var flist = [];

    for(var year in list[0]) {
        result[year] = [];
        for(var item in list[0][year]) {
            if( typeof list[0][year][item] === 'object') {
                var temp = list[0][year][item];
                if( temp.value < 0 ) {
                    result[year].push(temp);
                    if(flist.indexOf(temp.name) == -1) {
                        flist.push(temp.name);
                    }
                }
            } else {
                result[year] = null;
            }
        }
    }
    return {
        result: result,
        flist: flist
    }
}


// 数据源
// 中国分省水资源总量
var dataLiquidResource = {
    2014:[20.3, 11.37, 106.16, 111.01, 537.79, 145.93, 306.03, 944.34, 47.15, 399.34, 1132.15, 778.48, 1219.62, 1631.81, 148.44, 283.36, 914.29, 1799.43, 1718.45, 1990.9, 383.51, 642.58, 2557.66, 1213.12, 1726.63, 4416.3, 351.64, 198.38, 793.86, 10.07, 726.93],
    2013:[24.81, 14.64, 175.86, 126.55, 959.81, 463.17, 607.4, 1419.58, 28.03, 283.53, 931.34, 585.59, 1151.9, 1423.99, 291.7, 213.07, 790.15, 1581.97, 2263.17, 2057.33, 502.11, 474.35, 2470.27, 759.44, 1706.69, 4415.74, 353.78, 268.9, 645.61, 11.4, 955.99],
    2012:[39.5, 32.94, 235.53, 106.25, 510.25, 547.3, 460.47, 841.41, 33.9, 373.33, 1444.79, 701, 1511.44, 2174.36, 274.3, 265.54, 813.88, 1988.94, 2026.55, 2087.4, 364.31, 476.89, 2892.36, 974.02, 1689.77, 4196.35, 390.49, 266.95, 895.22, 10.81, 900.63],
    2011:[26.81, 15.39, 157.15, 124.34, 419, 294.79, 315.89, 629.48, 20.72, 492.4, 744.96, 602.25, 774.85, 1037.88, 347.63, 327.97, 757.54, 1126.94, 1471.26, 1350.02, 484.1, 514.58, 2239.49, 626.02, 1480.2, 4402.71, 604.42, 242.21, 733.12, 8.76, 885.65],
    2010:[23.1, 9.2, 138.9, 91.5, 388.5, 606.7, 686.7, 853.5, 36.8, 383.5, 1398.6, 922.8, 1652.7, 2275.5, 309.1, 534.9, 1268.7, 1906.6, 1998.8, 1823.6, 479.8, 464.3, 2575.3, 956.5, 1941.4, 4593, 507.5, 215.2, 741.1, 9.3, 1113.1],
    2009:[21.84, 15.24, 141.16, 85.76, 378.15, 170.96, 298.04, 989.61, 41.57, 400.31, 931.35, 733.1, 800.81, 1166.91, 284.95, 328.77, 825.28, 1400.47, 1613.68, 1484.31, 480.71, 455.92, 2332.16, 910.03, 1576.6, 4029.16, 416.49, 209.02, 895.11, 8.42, 754.31],
    2008:[34.2, 18.3, 161, 87.4, 412.1, 266, 332, 462, 37, 378, 855.2, 699.3, 1036.9, 1356.2, 328.7, 371.3, 1033.9, 1600, 2206.8, 2282.5, 419.1, 576.9, 2489.9, 1140.7, 2314.5, 4560.2, 304, 187.5, 658.1, 9.2, 815.6],
    2007:[23.81, 11.31, 119.79, 103.4, 295.86, 261.72, 346.04, 491.85, 34.5, 495.71, 892.15, 712.46, 1072.9, 1112.96, 387.11, 465.18, 1015.06, 1426.55, 1581.15, 1386.26, 283.53, 662.96, 2299.84, 1054.62, 2255.52, 4321.38, 377.03, 228.73, 661.62, 10.39, 863.77],
    2006:[22.07, 10.11, 107.34, 88.52, 411.29, 261.36, 353.63, 727.93, 27.64, 404.4, 903.59, 580.5, 1623.48, 1629.97, 199.32, 321.78, 639.69, 1770.29, 2216.17, 1881.08, 227.59, 380.32, 1865.84, 814.63, 1711.67, 4157.14, 275.51, 184.59, 569, 10.61, 953.1],
    2005:[23.18, 10.63, 134.57, 84.13, 456.18, 377.2, 559.66, 744.27, 24.47, 466.96, 1014.35, 719.25, 1401.12, 1510.1, 415.86, 558.52, 933.96, 1671.04, 1747.49, 1720.82, 307.29, 509.78, 2922.58, 834.63, 1846.43, 4451.07, 490.59, 269.6, 876.1, 8.53, 962.81]
};

// 中国分省人均水资源占用量
var dataLiquidPersonal = {
    2014:[95.15, 76.08, 144.27, 305.06, 2149.89, 332.37, 1112.23, 2463.08, 194.79, 502.34, 2057.33, 1285.36, 3217.99, 3600.64, 152.07, 300.67, 1574.33, 2680.11, 1608.43, 4203.31, 4265.96, 2155.94, 3148.47, 3461.12, 3673.28, 140200, 932.84, 766.99, 13675.45, 152.98, 3186.91],
    2013:[118.59, 101.49, 240.57, 349.55, 3848.6, 1055.17, 2208.17, 3702.13, 116.9, 357.56, 1697.2, 974.52, 3062.75, 3155.33, 300.45, 226.44, 1364.91, 2373.56, 2131.24, 4376.83, 5636.8, 1603.87, 3052.88, 2174.15, 3652.24, 142530.58, 941.26, 1042.33, 11216.59, 175.25, 4251.88],
    2012:[193.24, 237.99, 324.24, 294.98, 2052.68, 1247.83, 1674.49, 2194.61, 143.4, 472.01, 2641.29, 1172.63, 4047.78, 4836.01, 283.93, 282.58, 1410.97, 3005.68, 1921, 4476.04, 4130.76, 1626.5, 3587.16, 2801.82, 3637.91, 137378.05, 1041.91, 1038.36, 15687.17, 168.03, 4055.51],
    2011:[134.71, 115.96, 217.75, 346.96, 1691.59, 673.2, 1149.52, 1641.97, 89.12, 624.55, 1365.71, 1010.09, 2090.52, 2319.11, 361.65, 349.03, 1319.13, 1711.93, 1404.82, 2917.39, 5545.59, 1773.3, 2782.85, 1802.11, 3206.53, 145779.84, 1616.56, 945.37, 12956.77, 137.69, 4031.34],
    2010:[124.2, 72.8, 195.3, 261.5, 1576.1, 1392.1, 2503.3, 2228.6, 163.1, 489.2, 2608.7, 1526.9, 4491.7, 5116.7, 324.4, 566.2, 2216.5, 2938.7, 1943.3, 3852.9, 5538.7, 1616.8, 3173.5, 2726.8, 4233.1, 153681.9, 1360.3, 841.7, 13225, 148.2, 5125.2],
    2009:[126.61, 126.79, 201.32, 250.83, 1563.88, 396.02, 1088.93, 2586.87, 218.28, 519.82, 1808.45, 1195.34, 2214.94, 2642.46, 301.75, 347.61, 1443.94, 2190.63, 1682.49, 3069.3, 5596.16, 1600.27, 2857.51, 2397.65, 3459.73, 139658.93, 1105.63, 794.32, 16113.59, 135.51, 3516.6],
    2008:[205.53, 159.76, 231.12, 256.91, 1710.31, 617.67, 1215.23, 1208, 197.54, 494.05, 1680.16, 1141.43, 2886.29, 3093.52, 349.98, 395.23, 1812.27, 2512.76, 2323.8, 4763.15, 4933.49, 2040.32, 3061.67, 3019.72, 5110.96, 159726.8, 809.59, 714.97, 11900.54, 149.84, 3859.91],
    2007:[148.16, 103.29, 173.09, 305.56, 1232.25, 610.85, 1269.17, 1286.38, 187.86, 653.32, 1777.19, 1165.29, 3005.74, 2556.47, 414.56, 496.14, 1782.05, 2247.07, 1686.29, 2922.44, 3373.31, 2357.61, 2822.58, 2805.22, 5013.94, 152969.2, 1007.71, 875.86, 12029.45, 171.1, 4167.79],
    2006:[141.52, 95.47, 156.14, 263.06, 1719.8, 615.54, 1300.35, 1904.83, 153.85, 538.3, 1829.49, 949.3, 4577.7, 3768.72, 214.82, 342.83, 1121.96, 2794.9, 2396.12, 4011.25, 2735.44, 1356.83, 2278.05, 2176.13, 3832.25, 149001.43, 739.12, 709.95, 10430.8, 176.75, 4695.08],
    2005:[151.21, 102.21, 197, 251.51, 1917.3, 896.3, 2066.8, 1954.2, 138.01, 626.6, 2077.2, 1178.8, 3975.5, 3513.2, 451.04, 597.22, 1640.6, 2649.5, 1906.4, 3703.8, 3722.4, 1827.4, 3569.6, 2244.4, 4161.7, 161170.6, 1322.7, 1042.4, 16176.9, 143.6, 4808.9]
}

// 中国分省水资源消耗总量
var dataLiquidConsumeSum = {
    2014:[37.49, 24.09, 192.82, 71.37, 182.01, 141.77, 132.98, 364.13, 105.92, 591.29, 192.87, 272.09, 205.63, 259.3, 214.52, 209.28, 288.34, 332.41, 442.54, 307.6, 45.02, 80.47, 236.87, 95.31, 149.41, 30.47, 89.81, 120.57, 26.34, 70.31, 581.82],
    2013:[36.38, 23.76, 191.29, 73.77, 183.22, 142.13, 131.48, 362.3, 123.21, 576.69, 198.33, 296.02, 204.83, 264.81, 217.95, 240.57, 291.8, 332.49, 443.16, 308.16, 43.16, 83.9, 242.47, 92, 149.71, 30.31, 89.21, 121.99, 28.2, 72.13, 588.04],
    2012:[35.88, 23.13, 195.33, 73.39, 184.35, 142.23, 129.82, 358.9, 115.98, 552.24, 198.12, 292.64, 200.08, 242.54, 221.79, 238.61, 299.29, 328.8, 451.02, 303.01, 45.33, 82.94, 245.92, 100.82, 151.83, 29.81, 88.04, 123.07, 27.41, 69.35, 590.14],
    2011:[35.96, 23.09, 195.97, 74.18, 184.7, 144.53, 131.24, 352.36, 124.5, 556.17, 198.54, 294.63, 208.82, 262.86, 224.04, 229.05, 296.7, 326.47, 464.22, 301.81, 44.48, 86.82, 233.47, 95.93, 146.79, 30.96, 87.76, 122.89, 31.15, 73.61, 523.5],
    2010:[35.2, 22.49, 193.68, 63.78, 181.9, 143.67, 120.04, 325, 126.29, 552.19, 203.04, 293.12, 202.45, 239.75, 222.47, 224.61, 287.99, 325.17, 469.01, 301.58, 44.35, 86.39, 230.27, 101.45, 147.47, 35.2, 83.4, 121.82, 30.77, 72.37, 535.08],
    2009:[35.5, 23.37, 193.72, 56.27, 181.25, 142.79, 111.09, 316.25, 125.2, 549.23, 197.76, 291.86, 201.44, 241.25, 219.99, 233.71, 281.41, 322.33, 463.41, 303.36, 44.46, 85.3, 223.46, 100.38, 152.64, 30.85, 84.34, 120.63, 28.76, 72.23, 530.9],
    2008:[35.08, 22.33, 195.02, 56.92, 175.78, 142.78, 104.08, 297.01, 119.77, 558.32, 216.62, 266.36, 198.04, 234.21, 219.89, 227.53, 270.71, 323.62, 461.53, 310.1, 46.89, 82.77, 207.63, 101.89, 153.14, 37.53, 85.46, 122.17, 34.36, 74.18, 528.22],
    2007:[34.81, 23.37, 202.5, 58.74, 180.04, 142.87, 100.78, 291.37, 120.19, 558.34, 210.98, 232.05, 196.28, 234.87, 219.55, 209.28, 258.73, 324.26, 462.51, 310.41, 46.69, 77.43, 213.98, 98.03, 150.03, 36.7, 81.55, 122.5, 31.11, 71, 517.74],
    2006:[34.3, 22.96, 204, 59.29, 178.69, 141.24, 102.9, 286.21, 118.57, 546.39, 208.26, 241.87, 187.25, 205.68, 225.82, 226.98, 258.79, 327.73, 459.4, 314.42, 46.46, 73.2, 215.13, 99.98, 144.77, 35.03, 84.08, 122.33, 32.2, 77.63, 513.43],
    2005:[34.5, 23.09, 201.78, 55.72, 174.76, 133.26, 98.39, 271.51, 121.28, 519.72, 209.91, 208.03, 186.86, 208.05, 211.03, 197.78, 253.38, 328.44, 458.95, 312.86, 44.05, 71.16, 212.3, 97.22, 146.82, 33.19, 78.76, 122.97, 30.65, 78.09, 508.48]
}

// 中古分省水资源消耗盈亏
var dataLiquidRemaining = {
    2014:[-17.19, -12.72, -86.66, 39.64, 355.78, 4.16, 173.05, 580.21, -58.77, -191.95, 939.28, 506.39, 1013.99, 1372.51, -66.08, 74.08, 625.95, 1467.02, 1275.91, 1683.3, 338.49, 562.11, 2320.79, 1117.81, 1577.22, 4385.83, 261.83, 77.81, 767.52, -60.24, 145.11],
    2013:[-11.57, -9.12, -15.43, 52.78, 776.59, 321.04, 475.92, 1057.28, -95.18, -293.16, 733.01, 289.57, 947.07, 1159.18, 73.75, -27.5, 498.35, 1249.48, 1820.01, 1749.17, 458.95, 390.45, 2227.8, 667.44, 1556.98, 4385.43, 264.57, 146.91, 617.41, -60.73, 367.95],
    2012:[3.62, 9.81, 40.2, 32.86, 325.9, 405.07, 330.65, 482.51, -82.08, -178.91, 1246.67, 408.36, 1311.36, 1931.82, 52.51, 26.93, 514.59, 1660.14, 1575.53, 1784.39, 318.98, 393.95, 2646.44, 873.2, 1537.94, 4166.54, 302.45, 143.88, 867.81, -58.54, 310.49],
    2011:[-9.15, -7.7, -38.82, 50.16, 234.3, 150.26, 184.65, 277.12, -103.78, -63.77, 546.42, 307.62, 566.03, 775.02, 123.59, 98.92, 460.84, 800.47, 1007.04, 1048.21, 439.62, 427.76, 2006.02, 530.09, 1333.41, 4371.75, 516.66, 119.32, 701.97, -64.85, 362.15],
    2010:[-12.1, -13.29, -54.78, 27.72, 206.6, 463.03, 566.66, 528.5, -89.49, -168.69, 1195.56, 629.68, 1450.25, 2035.75, 86.63, 310.29, 980.71, 1581.43, 1529.79, 1522.02, 435.45, 377.91, 2345.03, 855.05, 1793.93, 4557.8, 424.1, 93.38, 710.33, -63.07, 578.02],
    2009:[-13.66, -8.13, -52.56, 29.49, 196.9, 28.17, 186.95, 673.36, -83.63, -148.92, 733.59, 441.24, 599.37, 925.66, 64.96, 95.06, 543.87, 1078.14, 1150.27, 1180.95, 436.25, 370.62, 2108.7, 809.65, 1423.96, 3998.31, 332.15, 88.39, 866.35, -63.81, 223.41],
    2008:[-0.88, -4.03, -34.02, 30.48, 236.32, 123.22, 227.92, 164.99, -82.77, -180.32, 638.58, 432.94, 838.86, 1121.99, 108.81, 143.77, 763.19, 1276.38, 1745.27, 1972.4, 372.21, 494.13, 2282.27, 1038.81, 2161.36, 4522.67, 218.54, 65.33, 623.74, -64.98, 287.38],
    2007:[-11, -12.06, -82.71, 44.66, 115.82, 118.85, 245.26, 200.48, -85.69, -62.63, 681.17, 480.41, 876.62, 878.09, 167.56, 255.9, 756.33, 1102.29, 1118.64, 1075.85, 236.84, 585.53, 2085.86, 956.59, 2105.49, 4284.68, 295.48, 106.23, 630.51, -60.61, 346.03],
    2006:[-12.23, -12.85, -96.66, 29.23, 232.6, 120.12, 250.73, 441.72, -90.93, -141.99, 695.33, 338.63, 1436.23, 1424.29, -26.5, 94.8, 380.9, 1442.56, 1756.77, 1566.66, 181.13, 307.12, 1650.71, 714.65, 1566.9, 4122.11, 191.43, 62.26, 536.8, -67.02, 439.67],
    2005:[-11.32, -12.46, -67.21, 28.41, 281.42, 243.94, 461.27, 472.76, -96.81, -52.76, 804.44, 511.22, 1214.26, 1302.05, 204.83, 360.74, 680.58, 1342.6, 1288.54, 1407.96, 263.24, 438.62, 2710.28, 737.41, 1699.61, 4417.88, 411.83, 146.63, 845.45, -69.56, 454.33]
}

// 化学需氧量排放量(万吨）
var dataCOD = {
    2014:[16.88,21.43,126.85,44.13,84.77,121.7,74.3,142.39,22.44,110,72.54,88.56,62.98,72.01,178.04,131.87,103.31,122.9,167.06,74.4,19.6,38.64,121.63,32.67,53.38,2.79,50.49,37.32,10.5,21.98,67.02],
    2013:[17.85,22.15,130.99,46.13,86.32,125.26,76.12,144.73,23.56,114.89,75.51,90.27,63.9,73.45,184.57,135.42,105.82,124.9,173.39,75.94,19.44,39.18,123.2,32.82,54.72,2.58,51.93,37.91,10.34,22.19,67.24],
    2012:[18.65,22.94,134.91,47.68,88.39,130.59,78.75,149.88,24.26,119.7,78.62,92.43,66,74.83,192.12,139.36,108.66,126.34,180.29,78.03,19.74,40.28,126.87,33.3,54.86,2.58,53.62,38.93,10.38,22.8,67.92],
    2011:[19.32,23.58,138.88,48.96,91.9,134.34,82.47,157.65,24.9,124.62,81.83,95.33,67.94,76.79,198.25,143.67,110.47,130.52,188.45,79.33,19.99,41.68,130.23,34.22,55.47,2.68,55.77,39.66,10.32,23.37,67.29],
    2010:[9.2,13.2,54.6,33.3,27.5,54.2,35.2,44.4,22,78.8,48.7,41.1,37.3,43.1,62.1,62,57.2,79.8,85.8,93.7,9.2,23.5,74.1,20.8,26.8,2.9,30.8,16.8,8.3,12.2,29.6],
    2009:[9.9,13.3,57,34.4,27.9,56.3,36.1,46.2,24.3,82.2,51.4,42.4,37.6,43.5,64.7,62.6,57.6,84.8,91.1,97.6,10,24,74.8,21.6,27.3,1.5,31.8,16.8,7.6,12.5,28.7],
    2008:[10.1,13.3,60.5,35.9,28,58.4,37.4,47.6,26.7,85.1,53.9,43.3,37.8,44.5,67.9,65.1,58.6,88.5,96.4,101.3,10.1,24.2,74.9,22.2,28.1,1.5,33.2,17.1,7.5,13.2,28.7],
    2007:[10.6,13.7,66.7,37.4,28.8,62.8,40,48.8,29.4,89.1,56.4,45.1,38.3,46.9,72,69.4,60.1,90.4,101.7,106.3,10.1,25.1,77.1,22.7,29,1.5,34.5,17.4,7.6,13.7,29],
    2006:[11,14.3,68.8,38.7,29.8,64.1,41.7,49.8,30.2,93,59.3,45.6,39.5,47.4,75.8,72.1,62.6,92.3,104.9,111.9,9.9,26.4,80.6,22.9,29.4,1.5,35.5,17.8,7.5,14,28.8],
    2005:[11.6,14.6,66.1,38.7,29.7,64.4,40.7,50.4,30.4,96.6,59.5,44.4,39.4,45.7,77,72.1,61.6,89.5,105.8,107,9.5,26.9,78.3,22.6,28.5,1.4,35,18.2,7.2,14.3,27.1]
}

// 废水排放总量(万吨）
var dataWasteWater = {
    2014:[150713.57,89361.44,309823.96,145033.49,111916.93,262878.96,122170.66,149643.71,221159.73,601157.86,418261.9,272313.12,260579.22,208289.04,514423.34,422832.29,301703.65,309960.48,905082.06,219304.06,39351.07,145822.16,331276.53,110912.12,157544.15,5449.68,145785.38,65973.23,23001.19,37277.25,102748.31],
    2013:[144579.93,84210,310920.54,138030.43,106920.47,234508.18,117702.53,153089.62,222962.91,594359.1,419120.3,266234.19,259097.86,207137.56,494570.19,412581.82,294053.96,307227,862471.08,225302.67,36156.05,142535.47,307647.83,93084.53,156583.28,5004.68,132169.33,64969.46,21953.03,38528.43,100720.29],
    2012:[140273.72,82813.16,305773.5,134298.48,102424.49,238768.79,119509.2,162589.08,219244.06,598210.95,420960.52,254328.89,256262.77,201189.71,479100.25,403667.62,290200.42,304214.43,838550.53,245577.8,37103.42,132430.2,283657.06,91455.12,154009.74,4683.14,128749.05,62813.02,21994.46,38948.08,93810.49],
    2011:[145468.95,67146.94,278551.26,116132.01,100388.99,232247.02,116162.36,150661.01,214155.09,592773.76,420133.89,243265.24,316177.53,194431.55,443330.98,378784.85,293063.53,278811.44,785586.5,222438.92,35725.15,131449.83,279851.96,77927.2,147523.1,4634.58,121814.67,59231.69,21291.52,39432.37,83328.54],
    2010:[136415,68196,262543,118299,92548,218189,114431,118575,248250,555500,394828,184700,238502,160661,436372,358679,270755,268110,722978,312630,36689,128113,256095,60823,91992,3825,115673,51241,22609,40653,83690],
    2009:[140812.88,59647.38,244988.51,105875.05,73154.74,217154.68,109714.74,110508.16,230517.53,522329.29,365017.13,179701.21,246012.63,147080.54,386731.08,333980.16,265756.75,260278.41,687429.19,305507.09,37517.74,147068.75,262708.65,59159.17,87590.64,3455.23,111218.74,49270.16,22170.93,41336.46,77183.63],
    2008:[113259,61229,234697,106911,70421,212021,107781,110996,223751,509701,350377,168670,236269,138909,358911,309193,258874,250331,677352,345355,36188,145113,262343,55866,83865,3420,104883,47470,19997,37948,74700],
    2007:[107816.69,56928.16,222914.35,104594.39,60405.23,220996.73,97857.83,108972.59,226614.08,505598.33,338100.92,175327.09,226997.87,141266.69,334254.73,296467.29,246582.56,252072.98,690887.04,319808.27,35158.63,134240.39,252961.78,55112.42,83758.94,3335.56,99348.16,44335.27,19948.49,37213.38,68617.3],
    2006:[104922,58834,213672,89142,55102,206236,89855,110201,222565,508825,303515,164449,213401,130183,299812,268888,231454,235728,618921,250584,34962,145263,234483,51460,76760,2685,82204,42254,15726,25276,57440],
    2005:[101009,60361,208524,95096,56241,218705,98005,114041,199710,519425,313196,156591,212392,123320,280377,262564,237368,255638,638403,270857,35274,145221,261651,55668,75202,4555,83368,43728,19360,35817,63419]
}

// 分地区化学需氧量排放量(万吨） 
var dataCOD_area = {
    2014:[510.82,797.82,562.78,423.16],
    2013:[518.05,826.25,575.99,432.43],
    2012:[529.57,857.23,589.3,447.61],
    2011:[540.02,887.76,605.74,466.36],
    2010:[339.5,420.9,316.5,161.3],
    2009:[344.2,441.5,325.3,166.5],
    2008:[351.9,461.8,335.9,171.4],
    2007:[363.9,488,349.3,180.4],
    2006:[376.3,506.7,358.7,185.4],
    2005:[366.5,510.5,352,185.2]
}

// 分地区废水排放总量(万吨）
var dataWasteWater_area = {
    2014:[1345094.06,3509914.15,1660132.07,646610.26],
    2013:[1288499,3428447.96,1625264.96,612220.8],
    2012:[1258128.16,3378292.88,1587899.55,623291.56],
    2011:[1188924.38,3299050.05,1504488.62,599459.38],
    2010:[1167344,3100273,1361204,543743],
    2009:[1166669.45,2921003.36,1292672.12,510532.32],
    2008:[1180960,2801734,1232888,501219],
    2007:[1118679.96,2745270.8,1216311,488232.38],
    2006:[984135,2579429,1119844,461394],
    2005:[1058846,2568671,1130577,486992]
}

// 整理后的数据
// 中国分省水资源总量
dataMap.dataLiquidResource = dataFormatter(dataLiquidResource);

// 中国分省水资源盈亏
dataMap.dataLiquidRemaining = dataFormatter(dataLiquidRemaining);

// 中国分省水资源消耗量
dataMap.dataLiquidConsumeSum = dataFormatter(dataLiquidConsumeSum);

// 中国分省人均水资源占用量
dataMap.dataLiquidPersonal = dataFormatter(dataLiquidPersonal);

    // 中国部分水资源盈亏为负的地区 的 水资源总量
    // 北京 天津 河北 上海 江苏 宁夏
dataMap.dataLiquidResource_minority = filterDdata([dataMap.dataLiquidRemaining, dataMap.dataLiquidResource], 'minus', true);

    // 中国部分水资源盈亏为负的地区 的 水资源消耗量
    // 北京 天津 河北 上海 江苏 宁夏
dataMap.dataLiquidConsumeSum_minority = filterDdata([dataMap.dataLiquidRemaining, dataMap.dataLiquidConsumeSum], 'minus', true);

    // 中国部分水资源盈亏为负的地区
    // 北京 天津 河北 上海 江苏 宁夏
dataMap.dataLiquidRemaining_minority = filterDdata([dataMap.dataLiquidRemaining, dataMap.dataLiquidRemaining], 'minus', true);

    // 中国分省农业用水
dataMap.dataLiquidAgriculture = dataFormatter({
    2014:[8.18, 11.66, 139.17, 41.54, 137.54, 89.65, 89.76, 316.14, 14.57, 297.77, 88.21, 142.83, 95.65, 168.61, 146.72, 117.61, 156.89, 200.19, 224.33, 209.21, 33.4, 23.74, 145.38, 50.39, 103.3, 27.65, 57.86, 97.78, 21.01, 61.26, 550.99],
    2013:[9.09, 12.44, 137.64, 43.11, 132.46, 90.81, 88.77, 308.31, 16.26, 301.94, 91.95, 162.09, 95.73, 175.68, 149.72, 141.65, 159.61, 195.25, 223.68, 209.4, 32.31, 24.56, 139.41, 48.24, 102.67, 27.57, 58.06, 99.23, 22.77, 63.44, 557.69],
    2012:[9.31, 11.7, 142.94, 42.74, 135.36, 91.49, 84.74, 294.9, 17.45, 305.35, 91.29, 157.89, 92.78, 155.66, 154.23, 135.45, 146.44, 187.95, 227.58, 211.87, 34.69, 25.18, 145.79, 47.74, 103.75, 27.08, 58.19, 95.1, 22.48, 61.41, 561.75],
    2011:[10.2, 11.55, 140.49, 43.4, 135.94, 89.74, 81.64, 272.26, 16.47, 307.6, 92.07, 168.38, 98.62, 171.74, 148.92, 124.6, 142.26, 183.12, 224.16, 193.21, 33.84, 23.62, 128.44, 49.7, 96.08, 27.37, 56.22, 93.84, 23.48, 66.12, 488.41],
    2010:[10.83, 10.97, 143.77, 37.98, 134.52, 89.82, 73.84, 249.6, 16.76, 304.23, 94.64, 166.7, 97.19, 151.02, 154.76, 125.59, 138.29, 185.79, 227.47, 194.57, 33.88, 19.84, 127.26, 50.05, 95.32, 31.72, 55.47, 94.28, 23.19, 65.05, 484.64],
    2009:[11.38, 12.84, 143.91, 34.41, 138.67, 91.12, 71.15, 237.4, 16.78, 300.12, 97.28, 167.22, 100.83, 157.21, 156.4, 138.1, 149.43, 189.25, 228.71, 195.26, 34.03, 19.02, 123.64, 50.8, 103.46, 27.45, 57.21, 93.77, 21.61, 65.26, 489.39],
    2008:[11.35, 12.99, 143.23, 32.92, 134.1, 90.89, 69.29, 218.15, 16.74, 287.34, 98.73, 151.91, 99.3, 148.89, 157.61, 133.49, 142.8, 193.19, 227.74, 202.91, 35.63, 18.93, 113.64, 51.58, 105.06, 33.94, 57.7, 96.93, 22.37, 67.97, 486.15],
    2007:[11.73, 13.84, 151.59, 34.32, 141.77, 91.67, 67.53, 214.75, 16.21, 268.51, 100.22, 120.56, 100.94, 151.35, 159.71, 120.07, 132.65, 193.89, 224.84, 208.39, 35.84, 18.75, 118.71, 48.72, 105.95, 33.43, 55.51, 96.05, 20.47, 64.75, 476.77],
    2006:[12.05, 13.43, 152.57, 34.22, 142.18, 91.54, 70.35, 208.26, 18.37, 270.69, 101.06, 136.44, 97.96, 132.92, 169.4, 140.15, 142.96, 198.4, 226.92, 222.28, 36.74, 18.12, 121.2, 54.33, 105.57, 31.77, 56.8, 94.31, 21.79, 71.73, 469.95],
    2005:[12.67, 13.59, 150.22, 32.68, 143.88, 87.16, 66.38, 192.08, 18.46, 263.81, 106.73, 113.55, 101.54, 134.6, 156.32, 114.49, 142.12, 201.33, 230.65, 225.38, 35.14, 21.39, 121.83, 50.45, 108.41, 30.27, 52.22, 94.98, 21.06, 72.27, 464.36]
});

    // 中国分省工业用水
dataMap.dataLiquidIndustry = dataFormatter({
    2014:[5.09, 5.36, 24.48, 14.19, 19.73, 22.82, 26.8, 28.96, 66.2, 237.97, 55.67, 92.71, 75.27, 61.25, 28.64, 52.6, 90.16, 87.75, 117.02, 56.79, 3.85, 36.73, 44.73, 27.66, 24.59, 1.67, 14.02, 12.76, 2.39, 4.98, 13.25],
    2013:[5.12, 5.37, 25.23, 14.87, 23.65, 22.84, 26.49, 33.97, 80.43, 220.06, 58.75, 98.43, 75, 60.13, 28.86, 59.45, 92.43, 94.36, 119.55, 57.4, 3.81, 40.44, 58.28, 27.02, 25.26, 1.66, 13.76, 13.07, 2.93, 5.01, 12.78],
    2012:[4.89, 5.09, 25.23, 15.5, 23.55, 22.96, 27.09, 41.7, 72.93, 193.1, 60.74, 99.25, 75.74, 58.72, 28.1, 60.51, 121.64, 98.12, 121.58, 51.49, 3.83, 39.44, 54.75, 39.67, 27.81, 1.65, 13.35, 15.7, 2.53, 4.86, 12.38],
    2011:[5.01, 5, 25.71, 14.27, 23.58, 24.03, 26.63, 53.23, 82.64, 192.89, 61.83, 90.62, 83.47, 60.64, 29.75, 56.82, 120.39, 95.57, 133.6, 57.32, 3.86, 43.3, 64.56, 30.72, 25.25, 1.66, 13.24, 15.45, 3.53, 4.64, 12.57],
    2010:[5.06, 4.83, 23.06, 12.58, 22.58, 24.99, 26.12, 56.02, 84.85, 191.85, 59.7, 94.01, 81.26, 57.35, 26.84, 55.57, 117.1, 89.75, 138.76, 55.23, 3.83, 47.4, 62.92, 34.32, 25.48, 1.47, 12.06, 13.75, 3.26, 4.12, 11.2],
    2009:[5.2, 4.35, 23.71, 10.53, 20.92, 23.92, 23.62, 55.71, 84.16, 194.55, 55.34, 93.66, 77.19, 53.18, 24.7, 53.51, 100.82, 83.52, 136.15, 53.97, 3.91, 47.55, 61.6, 34.14, 22.44, 1.38, 11.4, 13.06, 2.99, 3.68, 10.06],
    2008:[5.2, 3.81, 25.22, 13.47, 20.46, 24.66, 19.27, 57.55, 79.56, 209.4, 61.03, 85.4, 75.44, 59.92, 24.69, 51.4, 96.98, 82.04, 137.19, 51.7, 4.9, 45.98, 57.74, 33.75, 22.11, 1.32, 12.87, 13.07, 7.85, 3.33, 9.78],
    2007:[5.75, 4.2, 24.97, 14.44, 17.45, 24.35, 19.52, 57.54, 81.35, 225.25, 64.17, 83.81, 72.77, 58.6, 24.12, 51.3, 96.62, 82.54, 141.07, 47.8, 4.67, 40.91, 58.98, 31.79, 22.33, 1.13, 11.67, 14.03, 7.17, 3.52, 9.23],
    2006:[6.2, 4.43, 26.22, 15.38, 16.67, 23.54, 19.12, 57.49, 77.98, 220.34, 62.73, 79.64, 66.9, 50.57, 22.54, 48.32, 86.93, 81.98, 135.61, 46.54, 3.78, 38.43, 57.51, 27.3, 18.76, 0.77, 13.21, 15.78, 7.01, 3.47, 8.61],
    2005:[6.8, 4.51, 25.66, 13.94, 13.16, 21.09, 18.79, 55.45, 81.31, 207.9, 58.1, 67.72, 63.49, 51.21, 21.76, 45.86, 82.55, 80.49, 133.89, 45.04, 3.17, 32.99, 56.79, 28.14, 18.38, 0.47, 12.83, 15.8, 6.26, 3.45, 8.2]
});

    // 中国分省生活用水
dataMap.dataLiquidLiving = dataFormatter({
    2014:[16.98, 5, 24.11, 12.21, 10.46, 24.4, 12.82, 17.74, 24.36, 52.83, 43.82, 31.9, 31.53, 27.36, 33.38, 33.42, 40.65, 41.8, 96.05, 39.24, 7.53, 19.07, 42.55, 16.56, 19.51, 1.1, 15.41, 8.23, 2.53, 1.75, 12.31],
    2013:[16.25, 5.05, 23.77, 12.25, 10.72, 23.42, 12.29, 17.07, 25.74, 51.41, 42.46, 31.45, 30.92, 26.88, 33.31, 33.4, 39.35, 40.01, 94.76, 38.32, 6.85, 18.07, 40.11, 16.04, 20.49, 1.03, 15.12, 7.9, 2.27, 1.64, 11.74],
    2012:[16.01, 4.98, 23.36, 11.83, 10.38, 23.37, 11.96, 16.34, 24.85, 50.46, 41.59, 30.89, 28.46, 26.11, 32.81, 32.02, 30.91, 40.26, 95.38, 36.64, 6.61, 17.55, 42.88, 13.14, 19.22, 1.04, 14.75, 9.26, 2.17, 1.61, 11.99],
    2011:[16.28, 5.41, 26.06, 13.08, 15.13, 25.88, 15.12, 21.25, 24.85, 52.39, 39.99, 31.67, 25.19, 28.42, 38.22, 37.41, 33.79, 45.21, 97.33, 45.69, 6.68, 19.09, 38.25, 14.87, 24.44, 1.89, 16.2, 10.61, 3.66, 1.86, 13.81],
    2010:[15.3, 5.48, 23.98, 10.57, 15.02, 25.48, 16.36, 17.61, 23.46, 52.91, 39.4, 30.19, 22.7, 27.49, 36.23, 36.11, 32.4, 46.43, 94.23, 46.45, 6.53, 18.63, 37.98, 16.47, 22.79, 2.01, 14.83, 10.76, 3.5, 1.78, 12.75],
    2009:[15.33, 5.09, 23.39, 10, 14.08, 24.41, 14.05, 18.78, 23.09, 51.39, 37.6, 29.03, 22.13, 26.09, 34.95, 35.79, 30.93, 46.1, 90.44, 48.44, 6.42, 18.23, 36.26, 14.88, 23.58, 2.03, 14.8, 10.8, 3.36, 1.74, 14.94],
    2008:[15.33, 4.88, 23.39, 9.79, 14.72, 24.56, 13.29, 18.81, 22.36, 49.48, 36.32, 27.42, 21.91, 23.39, 33.86, 34.84, 30.84, 45.05, 89.84, 49.97, 6.27, 17.4, 34.47, 16.07, 22.32, 2.27, 14, 9.23, 3.33, 1.63, 12.19],
    2007:[14.6, 4.82, 23.91, 9.53, 14.17, 24.32, 11.74, 18.61, 21.6, 48.42, 33.95, 26.08, 21.15, 22.9, 32.51, 32.74, 29.38, 44.62, 90.54, 48.58, 6.09, 17.33, 34.43, 16.95, 19.95, 2.15, 13.55, 9.45, 3.28, 1.76, 11.29],
    2006:[14.43, 4.61, 24.05, 9.27, 13.13, 24.25, 11.49, 20.03, 20.39, 46.15, 32.64, 24.35, 21.01, 20.85, 31.27, 34.57, 28.82, 44.17, 92.35, 41.9, 5.85, 16.24, 34.19, 17.69, 19.51, 2.48, 13.27, 9.12, 3.24, 1.76, 10.67],
    2005:[13.93, 4.54, 23.68, 8.72, 12.17, 23.92, 11.48, 20.27, 19.78, 43.05, 31.32, 25.39, 20.49, 20.95, 30.58, 33.61, 28.63, 43.49, 89.52, 38.85, 5.65, 16.39, 31.71, 17.93, 19.13, 2.45, 12.97, 9.12, 3.16, 1.75, 10.46]
});

    // 中国分省生态用水
dataMap.dataLiquidEcology = dataFormatter({
    2014:[7.25, 2.07, 5.06, 3.44, 14.28, 4.91, 3.6, 1.28, 0.79, 2.72, 5.16, 4.65, 3.18, 2.08, 5.78, 5.66, 0.63, 2.68, 5.14, 2.35, 0.24, 0.93, 4.21, 0.7, 2.02, 0.05, 2.52, 1.8, 0.42, 2.33, 5.26],
    2013:[5.92, 0.9, 4.65, 3.54, 16.4, 5.07, 3.93, 2.95, 0.78, 3.24, 5.17, 4.05, 3.17, 2.12, 6.06, 6.06, 0.41, 2.87, 5.17, 3.05, 0.19, 0.84, 4.67, 0.69, 1.29, 0, 2.26, 1.79, 0.22, 2.05, 5.82],
    2012:[5.67, 1.36, 3.79, 3.32, 15.06, 4.4, 6.03, 5.97, 0.74, 3.33, 4.51, 4.6, 3.11, 2.05, 6.66, 10.62, 0.31, 2.46, 6.49, 3.01, 0.2, 0.76, 2.5, 0.27, 1.04, 0, 1.74, 3.01, 0.22, 1.47, 4.02],
    2011:[4.47, 1.13, 3.58, 3.43, 10.05, 4.87, 7.85, 5.63, 0.54, 3.28, 4.58, 3.96, 1.54, 2.06, 7.15, 10.25, 0.26, 2.55, 9.12, 5.58, 0.1, 0.73, 2.22, 0.64, 1.02, 0, 2.1, 2.99, 0.48, 0.98, 8.68],
    2010:[3.97, 1.22, 2.87, 2.65, 9.78, 3.38, 3.72, 1.76, 1.22, 3.21, 9.3, 2.22, 1.29, 3.89, 4.64, 7.34, 0.21, 3.2, 8.55, 5.32, 0.09, 0.53, 2.11, 0.62, 3.88, 0, 1.03, 3.03, 0.82, 1.42, 26.48],
    2009:[3.6, 1.09, 2.7, 1.33, 7.58, 3.34, 2.27, 4.36, 1.17, 3.18, 7.55, 1.95, 1.29, 4.77, 3.93, 6.32, 0.22, 3.46, 8.1, 5.67, 0.09, 0.5, 1.96, 0.55, 3.16, 0, 0.92, 2.99, 0.81, 1.56, 16.52],
    2008:[3.2, 0.65, 3.18, 0.74, 6.5, 2.67, 2.23, 2.5, 1.11, 12.1, 20.54, 1.63, 1.39, 2.01, 3.73, 7.8, 0.09, 3.35, 6.76, 5.53, 0.09, 0.46, 1.78, 0.49, 3.65, 0, 0.9, 2.94, 0.8, 1.24, 20.1],
    2007:[2.72, 0.51, 2.03, 0.45, 6.65, 2.53, 1.99, 0.47, 1.04, 16.16, 12.64, 1.6, 1.42, 2.02, 3.2, 5.17, 0.09, 3.21, 6.06, 5.63, 0.09, 0.43, 1.86, 0.56, 1.8, 0, 0.81, 2.97, 0.19, 0.97, 20.45],
    2006:[1.62, 0.49, 1.16, 0.42, 6.72, 1.91, 1.94, 0.43, 1.83, 9.21, 11.84, 1.44, 1.38, 1.33, 2.61, 3.94, 0.08, 3.19, 4.52, 3.69, 0.09, 0.41, 2.23, 0.65, 0.92, 0, 0.8, 3.12, 0.17, 0.66, 24.2],
    2005:[1.1, 0.45, 2.22, 0.38, 5.56, 1.09, 1.74, 3.71, 1.73, 4.95, 13.76, 1.37, 1.34, 1.29, 2.37, 3.81, 0.08, 3.13, 4.89, 3.6, 0.09, 0.39, 1.97, 0.7, 0.9, 0, 0.74, 3.08, 0.17, 0.62, 25.46]
});

    // 地表水
dataMap.dataSurfaceLiquid = dataFormatter({
    2014:[6.5,8.33,46.94,65.2,397.61,123.74,251.02,814.38,40.08,296.43,1118.25,712.86,1218.42,1613.28,76.61,177.44,885.88,1791.5,1709,1989.65,378.7,642.58,2556.51,1213.12,1726.63,4416.3,325.85,190.49,775.97,8.16,686.55],
    2013:[9.43,10.8,76.83,81.05,813.52,420.26,535.2,1253.3,22.77,202.32,917.3,525.41,1150.65,1405.29,191.07,123.13,756.64,1574.34,2253.75,2056.26,496.49,474.35,2469.12,759.44,1706.69,4415.74,331.47,262.22,629.54,9.47,905.63],
    2012:[17.95,26.54,117.76,65.9,349.24,492.42,387.33,695.69,27.35,279.14,1427.15,640.64,1510.07,2155.79,182.17,172.65,783.76,1981.31,2017.49,2086.36,360.22,476.89,2891.21,974.02,1689.77,4196.35,367.96,258.95,879.21,8.45,851.6],
    2011:[9.17,10.89,69.84,76.65,298.16,260.5,262.88,512.51,16.23,398.96,733.31,544.17,773.52,1018.94,237.5,222.47,725.41,1120.74,1461.25,1350.02,478.8,514.58,2238.34,626.02,1480.2,4402.71,575.51,233.01,715.07,6.9,840.97],
    2010:[7.2,5.6,56.6,52.8,253.4,554,622.1,725.2,30.9,291.2,1382.9,876.3,1651.5,2255.2,199.1,415.7,1239.1,1899.4,1989.5,1823.6,474.3,464.3,2573.7,956.5,1941.4,4593,482.5,206.7,715.8,7,1051.2],
    2009:[6.76,10.59,47.54,47.67,263.36,137.98,252.81,845.59,34.6,306.05,917.4,685.92,799.59,1144.67,173.8,208.3,794.45,1393.78,1604.07,1484.31,474.64,455.92,2330.56,910.03,1576.6,4029.16,393.66,201.79,873.94,6.02,713.66],
    2008:[12.8,13.6,62.4,51.3,274.8,226.8,276.6,341.9,30,280.9,839.9,651.9,1035.7,1335.7,229,259.1,1003.7,1593.1,2197.3,2282.5,414.1,576.9,2488.3,1140.7,2314.5,4560.2,285,179.3,640,6.6,772.5],
    2007:[7.6,7.5,38.99,65.26,183.03,231.94,301.54,374.07,27.96,395.71,876.72,666.1,1071.71,1093.91,280.19,348.72,984.11,1419.34,1571.8,1386.26,280.53,662.96,2298.24,1054.62,2255.52,4321.38,349.59,219.08,643.68,7.77,816.64],
    2006:[6.67,6.62,42.1,53.62,294.33,233.94,298.44,602.24,27.64,314.7,889.41,532.77,1622.26,1610.4,109.56,214.54,608.93,1763.38,2206.5,1881.08,225.1,380.32,1864.24,814.63,1711.67,4157.14,246.26,176.39,551.1,8.23,903.84],
    2005:[7.58,7.13,58.01,50.37,338.69,336.3,489.56,611.97,24.47,366.38,999.36,672.2,1399.95,1490.25,295.85,435.92,903.58,1664.49,1738.47,1720.82,304.46,509.78,2920.98,834.63,1846.43,4451.07,468.24,260.34,857.56,6.88,910.65]
});

// 分省化学需氧量排放量(万吨）
dataMap.dataCOD = dataFormatter(dataCOD);

// 分省废水排放总量(万吨）
dataMap.dataWasteWater = dataFormatter(dataWasteWater);

// 地区按照年份排列
// ['西部地区', '东部地区', '中部地区', '东北地区']
dataMap.dataWasteWater_area_year = area2year(dataWasteWater_area);
dataMap.dataCOD_area_year = area2year(dataCOD_area);

// 分地区化学需氧量排放量(万吨） 
dataMap.dataCOD_area = dataFormatter(dataCOD_area, 'area');

// 分地区废水排放总量(万吨）
dataMap.dataWasteWater_area = dataFormatter(dataWasteWater_area, 'area');


// 混合数据
// 中国分省 [化学需氧量排放量 废水排放总量]
dataMap.dataCOD_WasteWater = mixData([dataCOD, dataWasteWater]);

// 中国分省 [水资源总量， 人均水资源]
dataMap.dataLiquidResource_Personal = mixData([dataLiquidResource, dataLiquidPersonal]);

// 中国分地区 [化学需氧量排放量 废水排放总量]
dataMap.dataCOD_WasteWater_area = mixData([dataMap.dataCOD_area, dataMap.dataWasteWater_area]);

// 中国分年份的地区数据 [化学需氧量排放量 废水排放总量]
dataMap.dataCOD_WasteWater_area_year = mixData([dataMap.dataCOD_area_year, dataMap.dataWasteWater_area_year], null, 'addYear');


// 世界数据

// old
// dataMap.dataLiquidWorld = dataFormatter({
//     2005:[86.3,81.3,96.1,37.1,100,100,100,100,95.7,88.6,94.3,99.8,91.4,99,96.7,97.9,91.1,99.6,96.4,87.3,82.3,92.1,90.5,96.2,96,94.9,98.3,95.1,90.2,62.2,86.5,91.9,97.8,89.7,81.9,97.3,98.4,82.1,91.4,95.2,94.3,95,80,92.9,95.5,99.8,52.9,96.6,98.7,100,84.5,60.6,93.6,94.1,82.9,82.2,82.3,72.3,100,99.9,56.8,91.7,86,95.5,60.2,84.5,97.3,95.8,93.7,95.6,60.9],
//     2006:[87.4,81.9,96.6,37.5,100,100,100,100,96.1,88.9,94.7,99.8,92,99,97,98.1,92.3,99.6,96.6,88,82.8,92.4,90.6,96.4,96.4,95.1,98.3,95.1,91,62.9,86.4,92.1,97.8,89.6,82.5,97.5,98.5,83.8,91.7,95.6,94.6,95.4,80.1,93.4,96,99.8,55.1,96.6,98.8,100,85.2,60.4,93.6,94.3,83.7,83.5,82.8,73.5,100,100,59,92.1,86.9,95.9,60.9,85.9,97.5,96.2,93.8,95.8,62.4],
//     2007:[88.5,82.6,97.1,37.9,100,100,100,100,96.4,89.2,95.2,99.8,92.5,99,97.3,98.4,93.5,99.6,96.7,88.7,83.3,92.7,90.7,96.6,96.9,95.2,98.3,95.1,91.8,63.5,86.3,92.2,97.9,89.5,83.1,97.6,98.7,85.4,92.1,95.9,94.8,95.7,80.2,93.8,96.5,99.8,57.4,96.6,98.9,100,85.9,60.2,93.7,94.5,84.6,84.7,83.3,74.6,100,100,61.2,92.6,87.7,96.3,61.5,87.3,97.7,96.5,93.9,95.9,63.8],
//     2008:[89.5,83.2,97.6,38.3,100,100,100,100,96.7,89.5,95.6,99.8,93,99,97.6,98.6,94.7,99.5,96.9,89.4,83.9,92.9,90.8,96.8,97.3,95.3,98.3,95.1,92.6,64.1,86.2,92.4,97.9,89.4,83.7,97.8,98.8,87,92.4,96.2,94.9,96,80.3,94.3,97,99.7,59.7,96.6,99,100,86.6,59.9,93.7,94.6,85.4,86,83.7,75.8,100,100,63.3,93,88.5,96.8,62,88.6,97.9,96.8,94.1,96.1,65.2],
//     2009:[90.5,83.8,97.6,38.7,100,100,100,100,97,89.8,96,99.8,93.6,99.1,97.9,98.7,96,99.5,97.1,90,84.4,93.2,90.9,97,97.7,95.5,98.3,95.1,93.4,64.8,86,92.5,97.9,89.3,84.3,97.9,99,88.7,92.8,96.5,95.1,96.4,80.3,94.7,97.5,99.7,61.9,96.6,99.1,100,87.3,59.6,93.7,94.8,86.2,87.2,84.2,76.9,100,100,65.4,93.5,89.3,97.2,62.5,89.9,98.1,97.1,94.2,96.2,66.7],
//     2010:[91.4,84.5,97.6,39.1,100,100,100,100,97.3,90.1,96.4,99.8,94.1,99.1,98.2,98.9,97.2,99.5,97.2,90.7,84.9,93.5,91,97.2,97.7,95.6,98.3,95.1,94.2,65.4,85.9,92.7,97.9,89.2,85,98.1,99.1,90.3,93.1,96.9,95.2,96.7,80.4,95.1,98,99.7,64.2,96.6,99.2,100,88,59.3,93.7,95,86.9,88.4,84.6,78.1,100,100,67.5,93.9,90.1,97.6,62.9,91.3,98.2,97.4,94.3,96.3,68.2],
//     2011:[92.3,85.1,97.6,39.5,100,100,100,100,97.7,90.5,96.8,99.8,94.6,99.1,98.5,99.1,98.5,99.5,97.4,91.4,85.4,93.8,91.1,97.3,97.7,95.8,98.3,95.1,95.1,66.1,85.7,92.8,97.9,89.1,85.6,98.2,99.3,91.9,93.4,97.2,95.3,97,80.5,95.6,98.5,99.7,66.5,96.6,99.3,100,88.7,58.9,93.8,95.1,87.7,89.7,85,79.2,100,100,69.5,94.4,90.9,98.1,63.3,92.6,98.4,97.8,94.4,96.5,69.7],
//     2012:[93.2,85.7,97.6,39.9,100,100,100,100,97.9,90.8,97.1,99.8,95.1,99.1,98.7,99.3,99.3,99.5,97.5,92,85.9,94.1,91.2,97.5,97.7,96,98.3,95.1,95.9,66.7,85.4,92.9,97.9,89,86.2,98.4,99.4,93.4,93.7,97.5,0,97.4,80.5,95.6,98.5,99.7,68.8,96.6,99.4,100,89.3,58.5,93.8,95.1,88.5,90.9,85.5,80.3,100,100,71.5,94.8,91.6,98.5,63.7,93.8,98.6,98.1,94.5,96.6,71.2],
//     2013:[94,86.2,0,39.9,100,100,100,100,98,91.1,97.5,99.8,95.6,99.2,99,99.5,99.5,99.5,97.5,92.7,86.4,94.3,91.3,97.6,97.7,96.2,98.3,95.1,96.7,66.8,85.2,93.1,97.9,89,86.8,98.4,99.6,95,94.1,97.8,0,97.4,80.6,95.6,98.5,99.7,71.1,96.6,99.5,100,90,58,93.8,95.1,89.2,92.1,85.9,80.4,100,100,73.5,94.8,92.4,99,64,95.1,98.8,98.1,94.6,96.8,71.4],
//     2014:[94.8,86.8,0,40,100,100,100,100,98.2,91.5,97.8,99.8,96.1,99.2,99,99.6,99.5,99.5,97.5,92.7,86.9,94.6,91.3,97.7,97.7,96.3,98.3,95.1,97.5,66.8,85,93.1,97.9,89,86.9,98.4,99.7,96.6,94.4,98.1,0,97.4,80.7,95.7,98.5,99.7,73.4,96.6,99.6,100,90.6,57.5,93.8,95.1,90,93.3,86.3,80.5,100,100,75.5,94.8,93.1,99,64.2,96.4,98.9,98.1,94.6,96.9,71.7]
// }, 'world');

// 改善的水源（获得人数占总人数的百分比）
dataMap.dataLiquidWrold = dataFormatter({
    2005:[60.9,86.3,99.8,81.3,87.3,82.3,96.2,91.4,96.1,81.9,37.1,91.4,100,100,100,96.7,99.8,52.9,94.3,100,82.3,99,56.8,88.6,86,84.5,95.7,90.5,95.6],
    2006:[62.4,87.4,99.8,81.9,88,82.8,96.4,92,96.6,82.5,37.5,91.7,100,100,100,97,99.8,55.1,94.7,100,82.8,99,59,88.9,86.9,85.9,96.1,90.6,95.8],
    2007:[63.8,88.5,99.8,82.6,88.7,83.3,96.6,92.5,97.1,83.1,37.9,92.1,100,100,100,97.3,99.8,57.4,95.2,100,83.3,99,61.2,89.2,87.7,87.3,96.4,90.7,95.9],
    2008:[65.2,89.5,99.8,83.2,89.4,83.9,96.8,93,97.6,83.7,38.3,92.4,100,100,100,97.6,99.7,59.7,95.6,100,83.7,99,63.3,89.5,88.5,88.6,96.7,90.8,96.1],
    2009:[66.7,90.5,99.8,83.8,90,84.4,97,93.6,97.6,84.3,38.7,92.8,100,100,100,97.9,99.7,61.9,96,100,84.2,99.1,65.4,89.8,89.3,89.9,97,90.9,96.2],
    2010:[68.2,91.4,99.8,84.5,90.7,84.9,97.2,94.1,97.6,85,39.1,93.1,100,100,100,98.2,99.7,64.2,96.4,100,84.6,99.1,67.5,90.1,90.1,91.3,97.3,91,96.3],
    2011:[69.7,92.3,99.8,85.1,91.4,85.4,97.3,94.6,97.6,85.6,39.5,93.4,100,100,100,98.5,99.7,66.5,96.8,100,85,99.1,69.5,90.5,90.9,92.6,97.7,91.1,96.5],
    2012:[71.2,93.2,99.8,85.7,92,85.9,97.5,95.1,97.6,86.2,39.9,93.7,100,100,100,98.7,99.7,68.8,97.1,100,85.5,99.1,71.5,90.8,91.6,93.8,97.9,91.2,96.6],
    2013:[71.4,94,99.8,86.2,92.7,86.4,97.6,95.6,0,86.8,39.9,94.1,100,100,100,99,99.7,71.1,97.5,100,85.9,99.2,73.5,91.1,92.4,95.1,98,91.3,96.8],
    2014:[71.7,94.8,99.8,86.8,92.7,86.9,97.7,96.1,0,86.9,40,94.4,100,100,100,99,99.7,73.4,97.8,100,86.3,99.2,75.5,91.5,93.1,96.4,98.2,91.3,96.9]

    // （29个国家）

    // 东帝汶
    // 中国
    // 加拿大
    // 印度尼西亚
    // 危地马拉
    // 厄瓜多尔
    // 哥斯达黎加
    // 墨西哥
    // 韩国
    // 尼加拉瓜
    // 巴布亚新几内亚
    // 巴拿马
    // 新加坡
    // 新西兰
    // 日本
    // 智利
    // 朝鲜
    // 柬埔寨
    // 泰国
    // 澳大利亚
    // 秘鲁
    // 美国
    // 老挝
    // 菲律宾
    // 萨尔瓦多
    // 越南
    // 马来西亚
    // 哥伦比亚
    // 俄罗斯
    
    
    // Timor-Leste
    // China
    // Canada
    // Indonesia
    // Guatemala
    // Ecuador
    // Costa Rica
    // Mexico
    // Korea, Rep.
    // Nicaragua
    // Papua New Guinea
    // Panama
    // Singapore
    // New Zealand
    // Japan
    // Chile
    // Korea, Dem. Rep.
    // Cambodia
    // Thailand
    // Australia
    // Peru
    // United States
    // Lao PDR
    // Philippines
    // El Salvador
    // Vietnam
    // Malaysia
    // Colombia
    // Russian Federation
})


console.log(dataMap.dataLiquidRemaining_minority);
// console.log(dataMap.dataCOD_WasteWater_area_year);



// function dataMix(list) {
//     var mixData = {};
//     for (var i = 0, l = list.length; i < l; i++) {
//         for (var key in list[i]) {
//             if (list[i][key] instanceof Array) {
//                 mixData[key] = mixData[key] || [];
//                 for (var j = 0, k = list[i][key].length; j < k; j++) {
//                     mixData[key][j] = mixData[key][j]
//                         || {name : list[i][key][j].name, value : []};
//                     mixData[key][j].value.push(list[i][key][j].value);
//                 }
//             }
//         }
//     }
//     return mixData;
// }